# 灰度图转换工具

这是一个将灰度图像转换为bnhdt格式文件的Python工具，使用PySide6构建图形用户界面。

## 功能特性

- 支持多种图像格式：PNG、JPG、JPEG、BMP、GIF、TIFF
- 将图像转换为bnhdt格式的二进制文件
- 友好的图形用户界面
- 完整的错误处理和用户提示

## 系统要求

- Python 3.7+
- PySide6
- Pillow (PIL)

## 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

### 运行程序

```bash
python MainFrame.py
```

### 操作步骤

1. 点击"原图文件"旁的"选择"按钮，选择要转换的图像文件
2. 点击"目标路径"旁的"选择"按钮，选择输出文件的保存目录
3. 点击"转换"按钮开始转换
4. 转换完成后会显示成功或失败的消息

## 文件结构

```
灰度图文件转换/
├── MainFrame.py          # 主界面程序
├── SYDataUtil.py         # 图像处理工具类
├── ConvertUtil.py        # 数据类型转换工具类
├── requirements.txt      # Python依赖包列表
└── README.md            # 使用说明文档
```

## 技术实现

### 主要类说明

#### MainFrame
- 主窗口类，负责用户界面和交互逻辑
- 使用PySide6构建现代化的GUI界面
- 包含文件选择、路径验证、转换执行等功能

#### SYDataUtil
- 图像数据处理工具类
- 负责图像加载、灰度值计算、数据导出
- 支持多种图像格式的读取和处理

#### ConvertUtil
- 数据类型转换工具类
- 提供字节、整数、浮点数、字符串之间的转换
- 使用Python的struct模块进行二进制数据处理

### 转换流程

1. 加载源图像文件
2. 提取图像尺寸信息
3. 逐像素计算灰度值
4. 将数据写入bnhdt格式文件

### bnhdt文件格式

bnhdt文件包含以下数据：
- 4字节：图像宽度（小端序）
- 4字节：图像高度（小端序）
- N字节：像素灰度数据（每个像素1字节，0-255）

## 注意事项

- 确保选择的源文件是有效的图像文件
- 目标路径必须存在且可写
- 转换过程中请勿关闭程序窗口
- 大尺寸图像转换可能需要较长时间

## 错误处理

程序包含完整的错误处理机制：
- 文件不存在检查
- 路径有效性验证
- 图像格式兼容性检查
- 转换过程异常捕获

## 开发信息

- 原版：Java Swing应用程序
- 转换版：Python PySide6应用程序
- 保持原有功能的同时，提供了更现代化的用户界面
