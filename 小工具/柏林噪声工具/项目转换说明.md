# 柏林噪声工具 Java 到 Python 转换说明

## 转换概述

本项目成功将原有的Java Swing版本的柏林噪声工具转换为Python PySide6版本，保持了所有原有功能的同时，提供了更好的代码结构和用户体验。

## 主要改进

### 1. 界面框架升级
- **原版本**: Java Swing
- **新版本**: PySide6 (Qt for Python)
- **优势**: 更现代的界面，更好的跨平台支持，更丰富的控件

### 2. 代码结构优化
- **模块化设计**: 每个功能模块独立成文件
- **类型注解**: 完整的Python类型注解，提高代码可读性
- **函数级注释**: 每个函数都有详细的中文注释说明

### 3. 多线程处理
- **原版本**: 使用Thread类进行后台处理
- **新版本**: 使用QThread进行后台处理
- **优势**: 更好的线程管理，避免界面卡顿

### 4. 错误处理
- **完善的异常处理**: 所有可能出错的地方都有适当的错误处理
- **用户友好的错误提示**: 错误信息清晰易懂

## 文件对应关系

| Java文件 | Python文件 | 说明 |
|---------|-----------|------|
| MainFrame.java | MainFrame.py | 主窗口类 |
| ControlPanel.java | ControlPanel.py | 控制面板 |
| DisplayPanel.java | DisplayPanel.py | 显示面板 |
| OneDDisplay.java | OneDDisplay.py | 1D噪声显示 |
| TwoDDisplay.java | TwoDDisplay.py | 2D噪声显示 |
| ThreeDDisplay.java | ThreeDDisplay.py | 3D噪声显示 |
| Noise1DUtil.java | Noise1DUtil.py | 1D噪声生成 |
| Noise2DUtil.java | Noise2DUtil.py | 2D噪声生成 |
| Noise3DUtil.java | Noise3DUtil.py | 3D噪声生成 |
| ExportUtil3DTexture.java | ExportUtil3DTexture.py | 3D纹理导出 |
| Constant.java | Constant.py | 常量定义 |

## 新增文件

- `main.py` - 主程序入口
- `run.py` - 启动脚本
- `test_imports.py` - 导入测试脚本
- `requirements.txt` - 依赖包列表
- `README.md` - 项目说明文档
- `项目转换说明.md` - 本文件

## 技术栈对比

| 方面 | Java版本 | Python版本 |
|------|---------|-----------|
| 界面框架 | Swing | PySide6 |
| 图像处理 | BufferedImage | PIL (Pillow) |
| 数学计算 | 原生Java | NumPy |
| 文件I/O | FileOutputStream | 标准库 |
| 多线程 | Thread | QThread |
| 构建工具 | 无 | pip |

## 功能保持

所有原有功能都得到完整保留：

1. **1D柏林噪声生成和显示**
   - 多层级噪声生成
   - 波形图显示
   - 合成结果显示

2. **2D柏林噪声生成和显示**
   - 多层级噪声生成
   - 灰度图像显示
   - 自动保存PNG文件
   - 对比度增强选项

3. **3D柏林噪声生成和显示**
   - 多层级噪声生成
   - 切片图像显示
   - 自动导出纹理文件
   - RGBA倍频分离选项

4. **参数控制**
   - 噪声维度选择
   - 频率数设置
   - 3D尺寸选择
   - 各种选项开关

## 使用方式

### 安装依赖
```bash
pip install -r requirements.txt
```

### 运行程序
```bash
python main.py
# 或者
python run.py
```

## 输出文件

- `pic/noise*.png` - 2D噪声图像
- `TexData3D/3dNoise.bn3dtex` - 3D纹理数据

## 总结

本次转换成功地将Java版本的柏林噪声工具迁移到了Python平台，在保持所有原有功能的基础上，提供了更好的代码结构、更现代的界面和更强的可维护性。新版本使用PySide6构建界面，PIL处理图像，NumPy进行数学计算，是一个完整的现代化Python应用程序。
