03-04.Vulkan-CMake跨平台工程搭建

呃，各位同学大家好，那么这节课呢？
我们开始进入我们工程的部分啊，在工程部分里面啊，我们首先要学习的是什么呢？
是c这样一个工程组织方式啊，为什么选择cm ake来进行这个课程？
有这么几个点？
第一个的话vulkan呢，它毕毕竟是一个一个跨平台的工啊，跨平台的工程来讲呢，有可能啊，很多人要做到啊，在服务器上来找，比如说在linux下面啊，有的人呢，需要在WINDOWS下面开发。
第二点呢，就是我们的工程啊，需要同步给各位学员，所以说呢，要尽可能的压缩这个工程包的大小啊，方便咱们互相之间共享资源。
那么cm ake作为我们这样一个呃开源的呃项目常用的一种工程组织方式，它自然有它灵活上的一个优势，那么很多同学长期使用VS啊，就很难去这个想象啊说在。
纯c mic工程里如何与view studio相结合啊？
那么这节课呢？
我们就演示如何从c mic开始啊？
我们来构建这样一个view studio的工程，大家也可以感受到它的便利性啊。
首先啊，我们建立一个文件夹，叫open learning啊，在open learning里面呢，我们有一个lesson one这个就会作为我们的工程文件夹啊，那么我们先把这个东西先拷过来啊，我们建立一个main cdp，还有一个cm it文list文件啊，我们知道。
open learning不是我们拷进来，其实拷进来之后啊，这个lesson one这个文件夹啊，就会已经变成了一家了啊，那么我们看一下这个c make list到底是干什么的啊，首先给大家把原理啊讲一下原理。
呃，看一下画图okay？
c make list和makefile有什么关系啊？
我们看这个是什么呢？
这个是一个c make list啊list，然后呢cm ake程序啊会先啊，比如说在这我运行cm ake。
那么cm ake文程序呢？
会先加载这个c make list啊，进来进到cm ake。
然后啊，它会根据这个文件里面所书写的一个工程的描述，它描述有几个点呢？
第一啊，我最终我的工程名字叫什么东西啊？
就是它的name。
然后呢？
第二步它要干什么呢？
它要看一下你这个工程啊，它到底include了哪些东西啊？
很稳健，然后呢？
你这个工程里面啊，它到底啊去使用了哪些lib库啊？
lib啊都要给你搞定对吧？
那如果所有同学们啊，如果我这些都是描述在里面的对吧？
关于如果说C加加本身的库呢？
就sct stl这些库。
还有系统相关的东西怎么办啊？
大家不用担心啊，我们系统相关的东西是不需要在这里面指定的，因为cm ake类似啊，它cm ake这个程序啊，它会到我们比如说WINDOWS会去到我们这个相关的系统啊，这个lib库啊，或者录的文件夹去寻找，然后啊，再回去到我们设置的里面去寻找。
啊，所以说呢，我们只需要把我们自己特殊的第三方库之类的东西列到里面就可以了，它读进来这个文件之后啊，它会去思考一下啊，唉，第二步生成啊，它要生成什么东西啊，它要生成的是一个project啊project。
那大家想什么是project举个例子啊？
比如WINDOWS平台，它比较出来说哦，你是WINDOWS啊，那么并且你的系统里面安装了什么v ROM studio二零一九，那么它就会给你生成一个二零一九的工程啊，你就可以打开，然后去编译啊，再去生成你的EXE文件是这么个意思。
啊okay，所以我们接下来啊，就开始进行我们的第一步。
打开这个。
然后我们选择打开什么cm ake。
诶，我们去到这个lesson one里面啊，有个simic list，我们把它打开。
打开之后啊，你会发现诶，它这个vr studio啊，自动的就帮你把这个也给引进来了，而且给你生成了一个out啊，我们先不用看这个out是什么啊，先看一看我们simic list是怎么写的啊？
在simulate里面，刚才给大家讲了有几个重要的点啊，第一个啊，当然第一句话，我们要使用的simulate版本最低啊，不能低于，比如说三点一二，比如说三点二零等等啊，都可以，那如果说你发现编译simulate时候呢，有很多东西很奇怪，说啊，你这个版本呃，不对呀，或者说怎么着啊，那么你想你所规定的simulate对。
一，版本是否已经高于了你现在安装的c mic版本啊？
OK，接下来project name啊，Mark learning我们改成Mark learning 1，要么是第一节课对吧？
第二，我们要去规定cm ake下面的这个C加加啊c叉叉的standard，我们用C加加17啊，因为要用一些时期的特性嘛。
啊第3 ux source directory用来用这句命令来扫描啊当前这个lesson one这个主目录文件下文件夹下所有的文件所有的什么文件啊所有的cpp文件啊那么它会识别出来哪个是main函数对吧能找到这个main函数的啊？
所以说把这个目录目录下，所有的这个cpp文件全都包含到这一个变量里面啊，搜寻这个点儿点儿本目录啊，本目录本目录下所有的cpp文件全都放到什么direct resources这个变量里面，这是我们自己定的变量。
然后啊，这两句话先注释掉，大家先不用管啊，包括第三第三句话都不用管，然后接下来我们at xq的就就是我们要出现一个什么可执行程序，这个可执行程序的名字叫做vulkan learning。
一用什么来创建这个exc呢？
就是我们最终运行的那个程序呢？
是用我们这一堆文件啊，下面这一堆cpp文件那个是变量名啊，这个加上美元以及加括号，这个意思是什么？
是我们这个变量的值就是里面的这些卖点cpp啊，什么什么点cpp啊等等啊这些文件。
展开这个意思，然后呢？
用这些文件重设一个可执行命令啊，这个就是我们最简单的这个say make list版本啊，那么我们看啊visual studio识别了，say make list，并且把main给导进来了。
保存完之后呢，它还生成了一个什么out文件，我们看一下生成的文件，这个out文件是干嘛的呢？
就是说啊，一会儿我们去编译这个工程啊，编译这个工程所有关于b5的信息都会被放到这里面，对吧？
你看叉六四，你看通过cm ake和list对吧？
它会生成什么make files啊？
会生成这下面的东西啊，会生成下面生成这下面的东西，所有都是跟平台相关的s个各种各样的文件。
OK，那么在这个叉64 debug下面啊，我们统一都64位来做啊，各位，然后呢？
我们会在这里面啊，会在这里面一会儿会生成那个我们所需要的EXE是这个意思啊，是这个意思OK，那么接下来我们要生成了啊，我们程序的名字是什么？
什么market learning杠一对吧？
market learning杠一。
所以说在这个位置上有个小三角形，我们点一下，在这下面呢，我们选择locker 1，它怎么识别的呢？
是不是九九读取了cm ake之后会得到会找到你这个add xq的这句话，它会把这一个作为一个你的最终编译选项之一啊，最终编译选项之一。
那么我是不是可以运行多个EXE呢啊？
可以的啊，你在这儿呢，比如说啊，我的men来来生成这个walk learning 1啊，我的第二个什么cpp，第二个cpp呢，可能里面也有个men函数，对吧，它会生成一个什么walk learning 2，比如说啊，我们在这儿就可以选择这样子。
okay，那我们接下来选择o克伦理一啊，那么下来走编译执行。
来看hello work啊，就被输出出来了啊，我们这个最简单的程序啊hello work就出来了，好，我们再回过来看啊，这里边呢，就是哎，learning对吧EXE啊，这个learning 1就已经被编译出来了，放到了这里，对吧？
所以说整个工程组织方式都很干净啊，我们啊，接下来做互相之间的工程传递啊，把这两个一删，其实这两个都是还是小的啊，我们看一下这两个还是不小的，对吧？
102M的啊，102M，那么这两个文件是很小的吧，才1 KB啊，所以说呢，你看把这两个一删是不是那个上面我们只需要去共享这两个文件给到别人是吧？
也就是工程的DOS文件和一个cmc list，你在本地自己去生成哎，是不是就方便很多对吧？
所以说呃，很多开源的工程组织都会这么去做啊。
那么，接下来我们再看一看啊呃，如果说我要引入啊第三方库班呢，其实就是用的这句话include directories这句话，那么它会说啊我我比如说我要引入三个库，这三个库都有自己的include文件夹，那么它的include文件夹在哪里呢？
就需要推到这里面啊。
我们后面会给大家配一下，这是一个路径的配法，第二个呢，就是link libra tus啊，link directories啊，就是说呢，每一个库可能都有自己的dll或者是lib，对吧？
那你什么那你去哪里去link它呢？
放到哪个文件夹下了呢？
就需要在这里去告诉它去哪个文件夹下去找哪些库？
第三个呢，就是target link libraries啊，就是说我光告诉你了，这个link的库的这个文件夹，但是我并没有告诉你我要link哪些dll或者lab，对吧？
那么就是在这个target link libraries下面，我们需要配置，就是说呃，我们我们就需要配置说嗯v learning。
对吧，这个东西啊，它需要加上哪一些的这样一个呃力啊，就会在这里做啊，这样的OK，那么这节课内容就到这里。

